# Copyright 2017 Google Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Common usages
alias tf='terraform'
alias tfa='terraform apply'
alias tfd='terraform destroy'
alias tfi='terraform init'
alias tfim='terraform import'
alias tfp='terraform plan'
alias tfv='terraform version'
alias tfc='terraform console'
alias tff='terraform fmt'
alias tfg='terraform graph'
alias tfo='terraform output'
alias tfpr='terraform providers'
alias tfr='terraform refresh'
alias tfsh='terraform show'
alias tft='terraform taint'
alias tfut='terraform untaint'
alias tfval='terraform validate'

alias tf-fu='terraform force-unlock'
alias tf-pd='terraform plan --destroy'
alias tf-aa='terraform apply --auto-approve'
alias tf-da='terraform destroy --auto-approve'


function tf-ws() {
    action=$1
    shift   # remove the first argument so $@ holds the rest

    case "$action" in
        select|sel)
        terraform workspace select "$@"
        ;;
        show|sh)
        terraform workspace show "$@"
        ;;
        delete|rm)
        terraform workspace delete "$@"
        ;;
        list|ls)
        terraform workspace list "$@"
        ;;
        new|create)
        terraform workspace new "$@"
        ;;
        *)
        echo "Unknown action: $action"
        echo "Valid actions: select|sel, show|sh, delete|rm, list|ls, new|create"
        ;;
    esac
}

function tf-st() {
    action=$1
    shift   # remove the first argument so $@ holds the rest

    case "$action" in
        ls)
        terraform state list "$@"
        ;;
        show)
        terraform state show "$@"
        ;;
        mv)
        terraform state mv "$@"
        ;;
        pull)
        terraform state pull "$@"
        ;;
        push)
        terraform state push "$@"
        ;;
        delete|rm)
        terraform state rm "$@"
        ;;
        *)
        echo "Unknown action: $action"
        echo "Valid actions: ls, show, mv, pull, push, delete"
        ;;
    esac
}

